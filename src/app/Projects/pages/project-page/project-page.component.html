<navbar></navbar>

<div class="mx-auto p-4 md:p-6" style="max-width:1100px">
  <header class="text-center mb-5">
    <h2 class="mb-2">Proyectos</h2>
    <p class="text-300">Selecci칩n de mis trabajos m치s representativos.</p>
  </header>

  <div class="grid justify-content-center">
    <div class="col-12 sm:col-6 md:col-4 lg:col-3" *ngFor="let p of projects">
      <!-- p-card con utilidades PrimeFlex -->
      <p-card
        [routerLink]="['/projects', p.slug]"
        pRipple
        [styleClass]="
          'h-full flex flex-column border-1 border-round-xl surface-0 ' +
          'transition-all hover:shadow-4 hover:border-primary-300 cursor-pointer'
        "
      >
        <ng-template pTemplate="header">
          <img
            [src]="p.cover"
            [alt]="p.title"
            class="w-full border-round-top-xl"
            style="height:150px; object-fit: cover; object-position: center;"
          />
        </ng-template>

        <div class="flex flex-column gap-2 flex-1">
          <div class="text-sm text-400">{{ p.subtitle || 'Project Spotlight' }}</div>
          <div class="font-semibold text-lg">{{ p.title }}</div>

          <div class="flex align-items-center flex-wrap gap-2">
            <p-tag *ngFor="let s of visibleStack(p)" [value]="s"></p-tag>
            <p-tag
              *ngIf="extraCount(p) > 0"
              [value]="'+' + extraCount(p)"
              severity="secondary"
            ></p-tag>
          </div>

          <!-- bot칩n anclado abajo/derecha -->
          <div class="mt-auto flex justify-content-end pt-2">
            <button pButton type="button" label="Ver m치s" class="p-button-text p-button-sm"></button>
          </div>
        </div>
      </p-card>
    </div>
  </div>
</div>
